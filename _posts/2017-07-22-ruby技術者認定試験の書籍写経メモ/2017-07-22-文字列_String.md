## 文字列 String

[Ruby技術者認定試験の書籍写経メモ]({% post_url 2017-07-22-ruby技術者認定試験の書籍写経メモ %})

1.9よりStringオブジェクトはエンコーディング情報を保持するようになった。この為、Stringオブジェクトのメソッドは1文字を単位として動くように変わった

#### 主な文字コード

| UTF-8       | 主に使用されている文字コード                                                  |
| EUC-JP      | 古いUNIXシステムで利用されていたコード                                        |
| JIS         | JISで策定された7bit文字のみを使った文字コード                                 |
| Shift_JIS   | マルチバイト文字とASCII文字を切り替えることなく使用できるようにした文字コード |
| Windows-31J | 主にWindowsで使われていたShift-JISの亜種                                      |
| US-ASCII    | ASCII文字だけで構成されている文字コード                                       |

### 文字列のエンコーディングの取得

String#encodingメソッドはEncodingクラスのインスタンスを返す

```ruby
'aaa'.encoding
=> #<Encoding:UTF-8>
```

### 文字列のエンコーディングの変更

String#encode String#Encode!

```ruby
'aaa'.encode('EUC-JP').encoding
=> #<Encoding:EUC-JP>
```

### 文字列の比較

| ==      | そ                            |
| >       | の                            |
| >=      | ま                            |
| <       | ん                            |
| <=      | ま                            |
| <=>     | 件のUFO演算子 左が大きければ1 |
| casecmp | 文字の大小を無視してUFO演算子 |

### 文字列と異なるクラスのオブジェクトの比較

== メソッドのみ、異なるクラスのオブジェクトと比較できるが、型の自動変換は行われないので結果はfalseとなる

```ruby
'100' == 100
=> false

'100' >= 100
ArgumentError: comparison of String with 100 failed
```

### 文字列の比較時のエンコーディング

- 文字列の比較のときにもエンコーディングを意識する必要がある
- == eql? メソッドは









a
