## Ruby 特異クラス？無名クラス？シングルトンクラス？extend？singleton_methods？飾らない真実メモ

(_ _) わたくしごときが偉そうに言い切っちゃってすいません

#### 特異クラス？無名クラス？シングルトンクラス？

- 人によって用語が違う
- もともと特異クラスは無名だ
- 「全てのオブジェクトが持っている、singleton_classでアクセスできる彼だけの特異クラス」を「シングルトンクラス」と呼べばいいのに「特異クラス」と言っているからややこしくなる
- 「メソッド探索ルートにextendされたクラスは特異クラス」だが「シングルトンクラス」ではない
- 「メソッド探索ルートにextendされたクラスに定義してあるメソッド」は「特異クラスに定義してあるメソッド」だが「シングルトンクラスに定義してあるメソッド」ではない

### extend は「moduleのメソッドをレシーバの特異メソッドとして追加する」

- 正確ではない
- レシーバのシングルトンクラスの直上に特異クラスを挿入しmoduleを取り込む
- レシーバのシングルトンクラスにメソッドを追加するわけではない
- もちろん、レシーバ.singleton_methods(false) には現れない

### singletom_methods(false) は 「レシーバの特異クラスに定義されているメソッドを返す」

- 正確ではない
- レシーバのシングルトンクラスに定義されているメソッドを返す
- レシーバのシングルトンクラスのメソッド探索ルートにextendされた特異クラスなんて、どうして私が配慮しなければならないんだ？
- レシーバのシングルトンクラスのスーパークラスに定義されているメソッドを含むかどうかは引数次第
