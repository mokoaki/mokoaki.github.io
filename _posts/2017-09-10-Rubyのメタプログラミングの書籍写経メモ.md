## Rubyのメタプログラミングの書籍写経メモ

某書を写経したメモ

### 少女M

#### メタプログラミングとは

- コードを記述するコードを記述することである
- 言語要素を実行時に操作するコードを記述することである

### オブジェクトモデル

- インスタンスにはインスタンス変数とクラスへの参照があるのみ、メソッドはクラスに存在する
- オブジェクトのメソッドはそのクラスのインスタンスメソッドであるように、
- クラスのメソッドはClassクラスのインスタンスメソッドである
- 定数
  - ```ruby
    module A
      module B
        C = 'A_B_C'
      end

      p B::C
      # => "A_B_C"
    end

    p A::B::C
    # => "A_B_C"
    ```
  - ```ruby
    B = 'B'
    module A
      B = 'A_B'

      p B
      # => "A_B"

      p ::B
      # => "B"
    end
    ```
  - ```ruby
    # レシーバ内部の定数一覧
    A::B.constants
    # => [:C]
    
    # トップレベルの定数一覧
    Module.constants
    # => [.....]
    ```
  - ```ruby
    # パスの取得もできる 
    module A
      class B
        module C
          p Module.nesting
          # => [A::B::C, A::B, A]
        end
      end
    end
    ```
